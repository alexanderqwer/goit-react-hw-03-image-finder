{"version":3,"sources":["components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services/api.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/App.js","index.js","components/Button/Button.module.css"],"names":["module","exports","initState","input","Searchbar","state","handleOnChange","e","value","target","setState","handleOnSubmit","preventDefault","onSubmit","props","this","className","type","onChange","autoComplete","placeholder","Component","ImageGalleryItem","data","onClick","role","src","webformatURL","alt","tags","id","ImageGallery","length","map","i","key","getImages","query","page","Axios","get","Button","S","section","App","color","height","width","React","Modal","handleKeyPressESC","keyCode","window","addEventListener","removeEventListener","children","allData","isLoading","isModal","idLargeImageURL","getDataByParams","scrollHeight","document","documentElement","API","then","hits","catch","error","alert","finally","scrollTo","top","behavior","handleLoadeMore","openModal","closeModal","prevProps","prevState","element","find","Number","largeImageURL","getLargeImageURL","ReactDOM","render","Styles","getElementById"],"mappings":"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","file":"static/js/main.e011267e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Loader_section__14Mi9\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst initState = {\n  input: '',\n};\nexport default class Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    input: '',\n  };\n\n  handleOnChange = e => {\n    const { value } = e.target;\n    this.setState({ input: value });\n  };\n\n  handleOnSubmit = e => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n    const { input } = this.state;\n    onSubmit(input);\n    this.setState({ ...initState });\n  };\n\n  render() {\n    const { input } = this.state;\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleOnSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            onChange={this.handleOnChange}\n            value={input}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            // autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ data, onClick }) => {\n  return (\n    <li className=\"ImageGalleryItem\" onClick={onClick} role=\"presentation\">\n      <img\n        src={data.webformatURL}\n        alt={data.tags}\n        id={data.id}\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n};\nImageGalleryItem.propTypes = {\n  data: PropTypes.shape({\n    webformatURL: PropTypes.string,\n    tags: PropTypes.string,\n    id: PropTypes.number,\n  }).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nconst ImageGallery = ({ data, onClick }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      {data.length > 0 &&\n        data.map(i => {\n          return <ImageGalleryItem data={i} key={i.id} onClick={onClick} />;\n        })}\n    </ul>\n  );\n};\nImageGallery.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\nexport default ImageGallery;\n","// https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\n// id - уникальный идентификатор\n// webformatURL - ссылка на маленькое изображение для списка карточек\n// largeImageURL - ссылка на большое изображение для модального окна\nimport Axios from 'axios';\n\nconst BASEURL = 'https://pixabay.com/api/';\nconst KEY = '14985899-5016e3437bf8e26429faea886';\nexport const getImages = ({ query, page }) => {\n  return Axios.get(\n    `${BASEURL}?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n};\n\nexport const t = () => null;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport S from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <div className={S.section}>\n      <button className={S.Button} type=\"button\" onClick={onClick}>\n        Loade more\n      </button>\n    </div>\n  );\n};\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport S from './Loader.module.css';\n\nexport default class App extends React.Component {\n  // other logic\n  state = {};\n\n  render() {\n    return (\n      <div className={S.section}>\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          // timeout={3000} // 3 secs\n        />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class Modal extends Component {\n  state = {};\n\n  static propTypes = {\n    onClick: PropTypes.func.isRequired,\n    children: PropTypes.node.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPressESC);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPressESC);\n  }\n\n  handleKeyPressESC = e => {\n    const { onClick } = this.props;\n    if (e.keyCode === 27) {\n      onClick();\n    }\n  };\n\n  render() {\n    const { onClick, children } = this.props;\n    return (\n      <div className=\"Overlay\" onClick={onClick} role=\"presentation\">\n        <div className=\"Modal\">{children}</div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport * as API from '../services/api';\nimport Button from './Button/Button';\nimport Loader from './Loader/Loader';\nimport Modal from './Modal/Modal';\n\nexport default class App extends Component {\n  state = {\n    allData: [],\n    page: 0,\n    query: '',\n    isLoading: false,\n    isModal: false,\n    idLargeImageURL: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page, query } = this.state;\n    if (prevState.page !== page || prevState.query !== query) {\n      if (query !== '') {\n        this.getDataByParams({ query, page });\n      }\n    }\n  }\n\n  getDataByParams = ({ query, page }) => {\n    const { allData } = this.state;\n    const scrollHeight = page > 1 ? document.documentElement.scrollHeight : 0;\n    this.setState({ isLoading: true });\n    return (\n      API.getImages({ query, page })\n        .then(({ data }) =>\n          this.setState({ allData: [...allData, ...data.hits] }),\n        )\n        // eslint-disable-next-line no-alert\n        .catch(error => alert(error))\n        .finally(() => {\n          this.setState({ isLoading: false });\n          window.scrollTo({\n            top: scrollHeight,\n            behavior: 'smooth',\n          });\n        })\n    );\n  };\n\n  handleOnSubmit = e => {\n    this.setState({ allData: [], query: e, page: 1 });\n  };\n\n  handleLoadeMore = () => {\n    const { page } = this.state;\n    this.setState({ page: page + 1 });\n  };\n\n  openModal = e => {\n    this.setState({ isModal: true, idLargeImageURL: e.target.id });\n  };\n\n  closeModal = () => {\n    this.setState({ isModal: false });\n  };\n\n  render() {\n    const { allData, isLoading, isModal, idLargeImageURL } = this.state;\n    const getLargeImageURL = () => {\n      const element = allData.find(i => i.id === Number(idLargeImageURL));\n      const result = isModal ? element.largeImageURL : '';\n      return result;\n    };\n    return (\n      <>\n        <Searchbar onSubmit={this.handleOnSubmit} />\n        <ImageGallery data={allData} onClick={this.openModal} />\n        {isLoading && <Loader />}\n        {allData.length > 0 && <Button onClick={this.handleLoadeMore} />}\n        {isModal && (\n          <Modal onClick={this.closeModal}>\n            <img src={getLargeImageURL()} alt=\"\" />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport Styles from './components/Styles.css';\n\nReactDOM.render(<App className={Styles} />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Button_section__3Afmf\",\"Button\":\"Button_Button__1xbt_\"};"],"sourceRoot":""}